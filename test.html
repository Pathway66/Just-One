<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockWatch Pro - ê´€ì‹¬ì¢…ëª© ê´€ë¦¬ & ë§¤ë§¤íƒ€ì´ë° ì•Œë¦¼ ì„œë¹„ìŠ¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .login-btn {
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: #000;
            padding: 8px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s ease;
        }

        .login-btn:hover {
            transform: translateY(-2px);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #00ffff;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #00ffff;
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .leading-stock-title {
            color: #fff !important;
        }

        #leadingStocksTitle {
            color: #fff;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            background: radial-gradient(circle at center, rgba(0, 255, 255, 0.1) 0%, transparent 70%);
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #00ffff, #ffffff, #00ffff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 3s ease infinite;
        }

        /* Dashboard Styles */
        .dashboard {
            padding: 100px 0;
            background: rgba(255, 255, 255, 0.02);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 4fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .main-dashboard {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .main-dashboard h3 {
            color: #00ffff;
        }

        .side-panel {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .panel-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .stock-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .stock-table th,
        .stock-table td {
            padding: 6px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }

        .stock-table th {
            background: rgba(0, 255, 255, 0.1);
            color: #00ffff;
            font-weight: bold;
        }

        .stock-table td {
            color: #fff;
        }

        .positive {
            color: #ff4444;
        }

        .negative {
            color: #4444ff;
        }

        .neutral {
            color: #fff;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 2px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: #000;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .btn-danger {
            background: #ff4444;
            color: #fff;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #00ffff;
            font-weight: bold;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #00ffff;
        }

        .upload-area {
            border: 2px dashed rgba(0, 255, 255, 0.5);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            border-color: #00ffff;
            background: rgba(0, 255, 255, 0.05);
        }

        .sector-leader {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .sector-item {
            background: rgba(0, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            text-align: center;
        }

        .sector-name {
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .sector-change {
            color: #fff;
            font-size: 0.9rem;
        }

        .capital-input {
            background: rgba(0, 255, 255, 0.1);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            padding: 0.8rem; /* íŒ¨ë”© ê°ì†Œ */
            margin-bottom: 1rem;
            display: grid; /* Grid ë ˆì´ì•„ì›ƒ ì ìš© */
            grid-template-columns: repeat(4, 1fr); /* 4ì¹¸ */
            gap: 1rem; /* ê°„ê²© ì¡°ì • */
        }

        .capital-input h3 {
            color: #00ffff;
            margin-bottom: 0.5rem;
            grid-column: 1 / -1; /* H3 íƒ€ì´í‹€ì´ ì „ì²´ ë„ˆë¹„ë¥¼ ì°¨ì§€í•˜ë„ë¡ */
        }

        .notification-settings {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .notification-settings h4 {
            color: #00ffff;
            margin-bottom: 0.5rem;
        }

        .notification-settings p {
            color: #ccc;
            font-size: 0.9rem;
        }

        .settings-section {
            padding: 100px 0;
            background: rgba(255, 255, 255, 0.02);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .settings-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }

        .api-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff4444;
        }

        .status-indicator.connected {
            background: #00ff00;
        }

        .api-key-input {
            position: relative;
        }

        .api-key-input input {
            padding-right: 50px;
        }

        .toggle-visibility {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #00ffff;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .test-connection {
            margin-top: 1rem;
            width: 100%;
        }

        .api-info {
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .api-info h4 {
            color: #00ffff;
            margin-bottom: 0.5rem;
        }

        .api-info p {
            color: #ccc;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .api-info ul {
            color: #ccc;
            font-size: 0.9rem;
            margin-left: 1rem;
        }

        .api-info li {
            margin-bottom: 0.3rem;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: #ccc;
            max-width: 600px;
        }

        .cta-button {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(45deg, #00ffff, #0080ff);
            color: #000;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 255, 255, 0.5);
        }

        /* Features Section */
        .features {
            padding: 100px 0;
            background: rgba(255, 255, 255, 0.02);
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #00ffff;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(0, 255, 255, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.1);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #00ffff;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #fff;
        }

        .feature-card p {
            color: #ccc;
            line-height: 1.6;
        }

        /* About Section */
        .about {
            padding: 100px 0;
            background: rgba(0, 0, 0, 0.3);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: #00ffff;
        }

        .about-text p {
            font-size: 1.1rem;
            color: #ccc;
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00ffff;
        }

        .stat-label {
            color: #ccc;
            font-size: 0.9rem;
        }

        /* Contact Section */
        .contact {
            padding: 100px 0;
            background: rgba(255, 255, 255, 0.02);
        }

        .contact-content {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .contact h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #00ffff;
        }

        .contact p {
            font-size: 1.1rem;
            color: #ccc;
            margin-bottom: 2rem;
        }

        .contact-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .contact-item {
            padding: 1.5rem;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .contact-item h3 {
            color: #00ffff;
            margin-bottom: 0.5rem;
        }

        .contact-item p {
            color: #ccc;
            margin: 0;
        }

        /* Footer */
        footer {
            background: #000;
            padding: 2rem 0;
            text-align: center;
            border-top: 1px solid rgba(0, 255, 255, 0.2);
        }

        footer p {
            color: #666;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1.1rem;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .stats {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .sector-leader {
                grid-template-columns: 1fr;
            }

            .stock-table {
                font-size: 0.8rem;
            }

            .stock-table th,
            .stock-table td {
                padding: 8px 4px;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .sector-name {
            color: #00ffff;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .panel-card h3 {
            color: #00ffff; /* ì£¼ë„ ì„¹í„° ë° ì£¼ë„ì£¼ íƒ€ì´í‹€ ê¸°ë³¸ ìƒ‰ìƒ */
        }

        #leadingStocksTitle {
            color: #fff; /* ì£¼ë„ì£¼ íƒ€ì´í‹€ì„ í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        }

        #leadingStocksTitle + div span {
            color: #fff; /* ì£¼ë„ì£¼ ì•„ë˜ ì¢…ëª©ëª… í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        }

        .sector-change {
            color: #fff;
            font-size: 0.9rem;
        }

        .stock-table th:nth-child(1),
        .stock-table th:last-child,
        .stock-table td:last-child {
            text-align: center;
        }

        .sort-arrow {
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 5px solid #ccc;
            margin-left: 5px;
            transition: transform 0.3s ease;
        }

        .sort-arrow.asc {
            transform: rotate(180deg);
        }

        .sort-arrow.desc {
            transform: rotate(0deg);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">StockWatch Pro</div>
            <ul class="nav-links">
                <li><a href="#home">í™ˆ</a></li>
                <li><a href="#dashboard">ëŒ€ì‹œë³´ë“œ</a></li>
                <li><a href="#features">ì„œë¹„ìŠ¤</a></li>
                <li><a href="#settings">ì„¤ì •</a></li>
                <li><a href="#about">íšŒì‚¬ì†Œê°œ</a></li>
                <li><a href="#contact">ì—°ë½ì²˜</a></li>
            </ul>
            <a href="#" class="login-btn">ë¡œê·¸ì¸</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>ê´€ì‹¬ì¢…ëª© ê´€ë¦¬ & ë§¤ë§¤íƒ€ì´ë° ì•Œë¦¼</h1>
            <p>ê·€ì‹ ê°™ì€ ë§¤ë§¤íƒ€ì´ë°ì„ ì•Œë ¤ì£¼ëŠ” AI ê¸°ë°˜ ê´€ì‹¬ì¢…ëª© ê´€ë¦¬ ì„œë¹„ìŠ¤. MTS ì—°ë™ìœ¼ë¡œ ì‰½ê²Œ ì—…ë¡œë“œí•˜ê³ , ì‹¤ì‹œê°„ ì•Œë¦¼ìœ¼ë¡œ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.</p>
            <a href="#dashboard" class="cta-button">ëŒ€ì‹œë³´ë“œ ì‹œì‘í•˜ê¸°</a>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="dashboard">
        <div class="container">
            <h2 class="section-title fade-in">ê´€ì‹¬ì¢…ëª© ëŒ€ì‹œë³´ë“œ</h2>
            
            <!-- ìš´ì˜ìê¸ˆ ê´€ë¦¬ -->
            <div class="capital-input fade-in">
                <h3>ğŸ’° ìš´ì˜ìê¸ˆ ê´€ë¦¬ (ê¸°ë³¸ë‹¨ìœ„: 1,000ì›)</h3>
                <div class="form-group">
                    <label>ì´ ìš´ì˜ìê¸ˆ (1,000ì›)</label>
                    <input type="number" id="totalCapitalInput" placeholder="ì˜ˆ: 10000" value="10000">
                </div>
                <div class="form-group">
                    <label>ì´ í‰ê°€ì•¡ (1,000ì›)</label>
                    <input type="text" id="totalValuationInput" readonly>
                </div>
                <div class="form-group">
                    <label>í˜„ê¸ˆ (1,000ì›)</label>
                    <input type="number" id="cashInput" placeholder="ì˜ˆ: 5000" value="5000">
                </div>
                <div class="form-group">
                    <label>ì£¼ì‹í‰ê°€í•©ê³„ (1,000ì›)</label>
                    <input type="text" id="stockValuationSumInput" readonly>
                </div>
                <div class="form-group">
                    <label>ìˆ˜ìµë¥  (%)</label>
                    <input type="text" id="returnRateInput" readonly>
                </div>
                <div class="form-group">
                    <label>ê¸°ê°„ (ì‹œì‘ì¼)</label>
                    <input type="date" id="startDateInput">
                </div>
                <div class="form-group">
                    <label>ê¸°ê°„ (ì¢…ë£Œì¼)</label>
                    <input type="date" id="endDateInput">
                </div>
                <div class="form-group" style="display: flex; align-items: flex-end;">
                    <button type="button" class="btn btn-primary" style="width: 100%; height: 40px;" id="inquiryButton">ì¡°íšŒ</button>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
                <div class="main-dashboard fade-in">
                    <h3>ğŸ“ˆ ê´€ì‹¬ì¢…ëª© í˜„í™©</h3>
                    <div style="margin-bottom: 1rem;">
                        <button class="btn btn-primary" onclick="openAddStockModal()">+ ì¢…ëª© ì¶”ê°€</button>
                        <button class="btn btn-secondary" onclick="openUploadModal()">ğŸ“ MTSì—ì„œ ì—…ë¡œë“œ</button>
                        <button class="btn btn-secondary" onclick="refreshData()">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                    </div>
                    
                    <table class="stock-table">
                        <thead>
                            <tr>
                                <th data-sort-key="name" data-sort-order="asc">ì¢…ëª©ëª… <span class="sort-arrow"></span></th>
                                <th data-sort-key="currentPrice" data-sort-order="none">í˜„ì¬ê°€ <span class="sort-arrow"></span></th>
                                <th data-sort-key="changeRate" data-sort-order="none">ë“±ë½ìœ¨ <span class="sort-arrow"></span></th>
                                <th data-sort-key="marketCap" data-sort-order="none">ì‹œê°€ì´ì•¡(ì¡°) <span class="sort-arrow"></span></th>
                                <th data-sort-key="per" data-sort-order="none">PER <span class="sort-arrow"></span></th>
                                <th data-sort-key="buyTarget" data-sort-order="none">ë§¤ìˆ˜ëª©í‘œ <span class="sort-arrow"></span></th>
                                <th data-sort-key="sellTarget" data-sort-order="none">ë§¤ë„ëª©í‘œ <span class="sort-arrow"></span></th>
                                <th data-sort-key="notification" data-sort-order="none">ì•Œë¦¼ <span class="sort-arrow"></span></th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="stockTableBody">
                            <tr>
                                <td>Samsung Electronics</td>
                                <td>75,000</td>
                                <td class="positive">+2.5%</td>
                                <td>450ì¡°</td>
                                <td>12.5</td>
                                <td>70,000</td>
                                <td>80,000</td>
                                <td><span style="color: #00ff00;">âœ“</span></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="editStock(1)">ìˆ˜ì •</button>
                                    <button class="btn btn-danger" onclick="deleteStock(1)">ì‚­ì œ</button>
                                </td>
                            </tr>
                            <tr>
                                <td>SK Hynix</td>
                                <td>95,000</td>
                                <td class="negative">-1.2%</td>
                                <td>68ì¡°</td>
                                <td>8.3</td>
                                <td>90,000</td>
                                <td>100,000</td>
                                <td><span style="color: #ff4444;">âœ—</span></td>
                                <td>
                                    <button class="btn btn-secondary" onclick="editStock(2)">ìˆ˜ì •</button>
                                    <button class="btn btn-danger" onclick="deleteStock(2)">ì‚­ì œ</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- ì‚¬ì´ë“œ íŒ¨ë„ -->
                <div class="side-panel">
                    <!-- ì£¼ë„ ì„¹í„° -->
                    <div class="panel-card fade-in">
                        <h3>ğŸ”¥ ì£¼ë„ ì„¹í„°</h3>
                        <div class="sector-leader">
                            <div class="sector-item">
                                <div class="sector-name">ë°˜ë„ì²´</div>
                                <div class="sector-change">+3.2%</div>
                            </div>
                            <div class="sector-item">
                                <div class="sector-name">AI/ë¹…ë°ì´í„°</div>
                                <div class="sector-change">+2.8%</div>
                            </div>
                            <div class="sector-item">
                                <div class="sector-name">ë°”ì´ì˜¤</div>
                                <div class="sector-change">+1.9%</div>
                            </div>
                        </div>
                    </div>

                    <!-- ì£¼ë„ì£¼ -->
                    <div class="panel-card fade-in">
                        <h3 id="leadingStocksTitle">ğŸš€ ì£¼ë„ì£¼</h3>
                        <div style="margin-top: 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>ì‚¼ì„±ì „ì</span>
                                <span class="positive">+2.5%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>NAVER</span>
                                <span class="positive">+4.1%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span>ì¹´ì¹´ì˜¤</span>
                                <span class="negative">-0.8%</span>
                            </div>
                        </div>
                    </div>

                    <!-- ì•Œë¦¼ ì„¤ì • -->
                    <div class="panel-card fade-in">
                        <div class="notification-settings">
                            <h4>ğŸ“± ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ ì„¤ì •</h4>
                            <p>ë§¤ìˆ˜/ë§¤ë„ ëª©í‘œê°€ ë„ë‹¬ ì‹œ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì•Œë¦¼ì„ ë°›ìœ¼ì„¸ìš”.</p>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 0.5rem;">ì•Œë¦¼ ì„¤ì •í•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Settings Section -->
    <section id="settings" class="settings-section">
        <div class="container">
            <h2 class="section-title fade-in">API ì„¤ì •</h2>
            
            <div class="settings-grid">
                <!-- í‚¤ì›€ì¦ê¶Œ API ì„¤ì • -->
                <div class="settings-card fade-in">
                    <h3>ğŸ”‘ í‚¤ì›€ì¦ê¶Œ REST API</h3>
                    <div class="form-group">
                        <label>App Key</label>
                        <div class="api-key-input">
                            <input type="password" id="kiwoomAppKey" placeholder="í‚¤ì›€ì¦ê¶Œ App Keyë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                            <button type="button" class="toggle-visibility" onclick="toggleApiKeyVisibility('kiwoomAppKey')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>App Secret</label>
                        <div class="api-key-input">
                            <input type="password" id="kiwoomAppSecret" placeholder="í‚¤ì›€ì¦ê¶Œ App Secretì„ ì…ë ¥í•˜ì„¸ìš”">
                            <button type="button" class="toggle-visibility" onclick="toggleApiKeyVisibility('kiwoomAppSecret')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Access Token</label>
                        <div class="api-key-input">
                            <input type="password" id="kiwoomAccessToken" placeholder="Access Tokenì„ ì…ë ¥í•˜ì„¸ìš”">
                            <button type="button" class="toggle-visibility" onclick="toggleApiKeyVisibility('kiwoomAccessToken')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    
                    <div class="api-status">
                        <div class="status-indicator" id="kiwoomStatus"></div>
                        <span id="kiwoomStatusText">ì—°ê²° ì•ˆë¨</span>
                    </div>
                    
                    <button class="btn btn-primary test-connection" onclick="testKiwoomConnection()">ì—°ê²° í…ŒìŠ¤íŠ¸</button>
                    <button class="btn btn-secondary" onclick="saveKiwoomSettings()" style="width: 100%; margin-top: 0.5rem;">ì„¤ì • ì €ì¥</button>
                </div>

                <!-- ê¸°íƒ€ API ì„¤ì • -->
                <div class="settings-card fade-in">
                    <h3>ğŸ“Š ê¸°íƒ€ ë°ì´í„° ì†ŒìŠ¤</h3>
                    
                    <div class="form-group">
                        <label>í•œêµ­íˆ¬ìì¦ê¶Œ API Key</label>
                        <div class="api-key-input">
                            <input type="password" id="kisApiKey" placeholder="í•œêµ­íˆ¬ìì¦ê¶Œ API Key">
                            <button type="button" class="toggle-visibility" onclick="toggleApiKeyVisibility('kisApiKey')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ API Key</label>
                        <div class="api-key-input">
                            <input type="password" id="kakaoApiKey" placeholder="ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ API Key">
                            <button type="button" class="toggle-visibility" onclick="toggleApiKeyVisibility('kakaoApiKey')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    
                    <div class="api-status">
                        <div class="status-indicator" id="otherStatus"></div>
                        <span id="otherStatusText">ì—°ê²° ì•ˆë¨</span>
                    </div>
                    
                    <button class="btn btn-primary test-connection" onclick="testOtherConnections()">ì—°ê²° í…ŒìŠ¤íŠ¸</button>
                    <button class="btn btn-secondary" onclick="saveOtherSettings()" style="width: 100%; margin-top: 0.5rem;">ì„¤ì • ì €ì¥</button>
                </div>
            </div>

            <!-- API ì •ë³´ ì•ˆë‚´ -->
            <div class="api-info fade-in">
                <h4>ğŸ“‹ API ì„¤ì • ì•ˆë‚´</h4>
                <p><strong>í‚¤ì›€ì¦ê¶Œ REST API:</strong></p>
                <ul>
                    <li>í‚¤ì›€ì¦ê¶Œ í™ˆí˜ì´ì§€ì—ì„œ REST API ì‹ ì²­ í›„ App Keyì™€ App Secretì„ ë°œê¸‰ë°›ìœ¼ì„¸ìš”</li>
                    <li>Access Tokenì€ OAuth ì¸ì¦ì„ í†µí•´ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                    <li>ì‹¤ì‹œê°„ ì£¼ì‹ ë°ì´í„° ì¡°íšŒ ë° ê³„ì¢Œ ì •ë³´ ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
                </ul>
                <p><strong>í•œêµ­íˆ¬ìì¦ê¶Œ API:</strong></p>
                <ul>
                    <li>í•œêµ­íˆ¬ìì¦ê¶Œ KIS APIë¥¼ í†µí•´ ì¶”ê°€ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤</li>
                    <li>í•´ì™¸ ì£¼ì‹ ë°ì´í„° ë° ìƒì„¸ ë¶„ì„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤</li>
                </ul>
                <p><strong>ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ API:</strong></p>
                <ul>
                    <li>ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë«í¼ì—ì„œ ì•Œë¦¼í†¡ APIë¥¼ ì‹ ì²­í•˜ì„¸ìš”</li>
                    <li>ë§¤ìˆ˜/ë§¤ë„ ëª©í‘œê°€ ë„ë‹¬ ì‹œ ì¦‰ì‹œ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title fade-in">í•µì‹¬ ê¸°ëŠ¥</h2>
            <div class="features-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ“±</div>
                    <h3>MTS ì—°ë™ ì—…ë¡œë“œ</h3>
                    <p>í‚¤ì›€ì¦ê¶Œ, ëŒ€ì‹ ì¦ê¶Œ, NHíˆ¬ìì¦ê¶Œ ë“± ì£¼ìš” MTSì—ì„œ ê´€ì‹¬ì¢…ëª©ì„ ì‰½ê²Œ ì—…ë¡œë“œí•˜ì„¸ìš”.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ“Š</div>
                    <h3>ìƒì„¸ ì¢…ëª© ë¶„ì„</h3>
                    <p>í˜„ì¬ê°€, PER, EPS, PEG ë“± 15ê°€ì§€ í•µì‹¬ ì§€í‘œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ””</div>
                    <h3>ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼</h3>
                    <p>ë§¤ìˆ˜/ë§¤ë„ ëª©í‘œê°€ ë„ë‹¬ ì‹œ ì¦‰ì‹œ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì•Œë¦¼ì„ ë°›ê³  ë°”ë¡œ ì£¼ë¬¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ’°</div>
                    <h3>ìê¸ˆ ê´€ë¦¬</h3>
                    <p>ì´ ìš´ì˜ìê¸ˆê³¼ ì‚¬ìš© ê°€ëŠ¥ ìê¸ˆì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ íˆ¬ì ê³„íšì„ ì„¸ìš°ì„¸ìš”.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ“ˆ</div>
                    <h3>ì‹œì¥ ë™í–¥ ë¶„ì„</h3>
                    <p>ì£¼ë„ ì„¹í„°ì™€ ì£¼ë„ì£¼ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ íŒŒì•…í•˜ì—¬ íˆ¬ì ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.</p>
                </div>
                <div class="feature-card fade-in">
                    <div class="feature-icon">ğŸ¯</div>
                    <h3>ë§ì¶¤í˜• ëª©í‘œê°€</h3>
                    <p>AI ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê°œë³„ ì¢…ëª©ë³„ ìµœì ì˜ ë§¤ìˆ˜/ë§¤ë„ ëª©í‘œê°€ë¥¼ ì œì‹œí•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text fade-in">
                    <h2>StockWatch Pro ì†Œê°œ</h2>
                    <p>StockWatch ProëŠ” 2020ë…„ ì„¤ë¦½ëœ ê´€ì‹¬ì¢…ëª© ê´€ë¦¬ ë° ë§¤ë§¤íƒ€ì´ë° ì•Œë¦¼ ì „ë¬¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê°œì¸ íˆ¬ììë“¤ì´ ë†“ì¹˜ê¸° ì‰¬ìš´ ë§¤ë§¤ ê¸°íšŒë¥¼ AI ê¸°ìˆ ë¡œ í¬ì°©í•˜ì—¬ ì¹´ì¹´ì˜¤í†¡ ì•Œë¦¼ìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.</p>
                    <p>ìš°ë¦¬ëŠ” MTS ì—°ë™ì„ í†µí•´ ì‚¬ìš©ìì˜ ê´€ì‹¬ì¢…ëª©ì„ ì‰½ê²Œ ì—…ë¡œë“œí•  ìˆ˜ ìˆê²Œ í•˜ê³ , 15ê°€ì§€ í•µì‹¬ ì§€í‘œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ì •í™•í•œ ë§¤ìˆ˜/ë§¤ë„ íƒ€ì´ë°ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. íˆ¬ìì˜ ê¸°íšŒë¥¼ ë†“ì¹˜ì§€ ì•Šë„ë¡ ë•ëŠ” ê²ƒì´ ìš°ë¦¬ì˜ ë¯¸ì…˜ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="stats fade-in">
                    <div class="stat-item">
                        <div class="stat-number">8,500+</div>
                        <div class="stat-label">í™œì„± ì‚¬ìš©ì</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">95.2%</div>
                        <div class="stat-label">ì•Œë¦¼ ì •í™•ë„</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">â‚©1.2ì¡°</div>
                        <div class="stat-label">ê´€ë¦¬ ìì‚°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <div class="contact-content">
                <h2 class="fade-in">ë¬¸ì˜í•˜ê¸°</h2>
                <p class="fade-in">AIStock Proì™€ í•¨ê»˜ ìŠ¤ë§ˆíŠ¸í•œ íˆ¬ìë¥¼ ì‹œì‘í•˜ì„¸ìš”. ì–¸ì œë“ ì§€ ë¬¸ì˜í•´ì£¼ì‹œë©´ ì „ë¬¸ ìƒë‹´ì‚¬ê°€ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
                <div class="contact-info">
                    <div class="contact-item fade-in">
                        <h3>ì „í™” ë¬¸ì˜</h3>
                        <p>02-1234-5678</p>
                    </div>
                    <div class="contact-item fade-in">
                        <h3>ì´ë©”ì¼</h3>
                        <p>info@aistockpro.com</p>
                    </div>
                    <div class="contact-item fade-in">
                        <h3>ì£¼ì†Œ</h3>
                        <p>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</p>
                    </div>
                    <div class="contact-item fade-in">
                        <h3>ìš´ì˜ì‹œê°„</h3>
                        <p>í‰ì¼ 09:00 - 18:00</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2024 StockWatch Pro. All rights reserved. | ê´€ì‹¬ì¢…ëª© ê´€ë¦¬ & ë§¤ë§¤íƒ€ì´ë° ì•Œë¦¼ ì„œë¹„ìŠ¤</p>
        </div>
    </footer>

    <!-- ì¢…ëª© ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="stockModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeStockModal()">&times;</span>
            <h2 id="modalTitle">ì¢…ëª© ì¶”ê°€</h2>
            <form id="stockForm">
                <div class="form-group">
                    <label>ì¢…ëª©ëª…</label>
                    <input type="text" id="stockName" required>
                </div>
                <div class="form-group">
                    <label>ì¢…ëª©ì½”ë“œ</label>
                    <input type="text" id="stockCode" required>
                </div>
                <div class="form-group">
                    <label>í˜„ì¬ê°€</label>
                    <input type="number" id="currentPrice" required>
                </div>
                <div class="form-group">
                    <label>ë§¤ìˆ˜ëª©í‘œê°€</label>
                    <input type="number" id="buyTarget" required>
                </div>
                <div class="form-group">
                    <label>ë§¤ë„ëª©í‘œê°€</label>
                    <input type="number" id="sellTarget" required>
                </div>
                <div class="form-group">
                    <label>ì•Œë¦¼ ì„¤ì •</label>
                    <select id="notificationEnabled">
                        <option value="true">í™œì„±í™”</option>
                        <option value="false">ë¹„í™œì„±í™”</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ìˆ˜ëŸ‰</label>
                    <input type="number" id="quantity" required>
                </div>
                <div style="text-align: right; margin-top: 1rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeStockModal()">ì·¨ì†Œ</button>
                    <button type="submit" class="btn btn-primary">ì €ì¥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MTS ì—…ë¡œë“œ ëª¨ë‹¬ -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeUploadModal()">&times;</span>
            <h2>MTSì—ì„œ ê´€ì‹¬ì¢…ëª© ì—…ë¡œë“œ</h2>
            <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                <p>ğŸ“ íŒŒì¼ì„ ì„ íƒí•˜ê±°ë‚˜ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                <p style="font-size: 0.9rem; color: #ccc;">ì§€ì› í˜•ì‹: CSV, Excel (.xlsx)</p>
            </div>
            <input type="file" id="fileInput" accept=".csv,.xlsx" style="display: none;">
            
            <div style="margin-top: 1rem;">
                <h4>ì§€ì›í•˜ëŠ” MTS</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 0.5rem;">
                    <div style="text-align: center; padding: 1rem; background: rgba(0, 255, 255, 0.1); border-radius: 10px;">
                        <div style="font-weight: bold; color: #00ffff;">í‚¤ì›€ì¦ê¶Œ</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(0, 255, 255, 0.1); border-radius: 10px;">
                        <div style="font-weight: bold; color: #00ffff;">ëŒ€ì‹ ì¦ê¶Œ</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(0, 255, 255, 0.1); border-radius: 10px;">
                        <div style="font-weight: bold; color: #00ffff;">NHíˆ¬ìì¦ê¶Œ</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(0, 255, 255, 0.1); border-radius: 10px;">
                        <div style="font-weight: bold; color: #00ffff;">í•œêµ­íˆ¬ìì¦ê¶Œ</div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: right; margin-top: 1rem;">
                <button type="button" class="btn btn-secondary" onclick="closeUploadModal()">ì·¨ì†Œ</button>
                <button type="button" class="btn btn-primary" onclick="processUpload()">ì—…ë¡œë“œ</button>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let stockData = [
            {
                id: 1,
                name: 'Samsung Electronics',
                code: '005930',
                currentPrice: 75000,
                changeRate: 2.5,
                marketCap: '450ì¡°',
                per: 12.5,
                buyTarget: 70000,
                sellTarget: 80000,
                notification: true,
                quantity: 10 /* ë°ëª¨ìš© ìˆ˜ëŸ‰ ì¶”ê°€ */
            },
            {
                id: 2,
                name: 'SK Hynix',
                code: '000660',
                currentPrice: 95000,
                changeRate: -1.2,
                marketCap: '68ì¡°',
                per: 8.3,
                buyTarget: 90000,
                sellTarget: 100000,
                notification: false,
                quantity: 5 /* ë°ëª¨ìš© ìˆ˜ëŸ‰ ì¶”ê°€ */
            },
            {
                id: 3, name: 'LG Energy Solution', code: '373220', currentPrice: 400000, changeRate: 1.8, marketCap: '90ì¡°', per: 60.1, buyTarget: 380000, sellTarget: 420000, notification: true
            },
            {
                id: 4, name: 'Samsung Biologics', code: '207940', currentPrice: 800000, changeRate: -0.5, marketCap: '55ì¡°', per: 100.5, buyTarget: 780000, sellTarget: 830000, notification: false
            },
            {
                id: 5, name: 'Hyundai Motor', code: '005380', currentPrice: 200000, changeRate: 0.7, marketCap: '45ì¡°', per: 7.2, buyTarget: 190000, sellTarget: 210000, notification: true
            },
            {
                id: 6, name: 'NAVER', code: '035420', currentPrice: 180000, changeRate: 3.1, marketCap: '30ì¡°', per: 35.8, buyTarget: 170000, sellTarget: 190000, notification: true
            },
            {
                id: 7, name: 'Kakao', code: '035720', currentPrice: 50000, changeRate: -0.8, marketCap: '22ì¡°', per: 28.3, buyTarget: 48000, sellTarget: 53000, notification: false
            },
            {
                id: 8, name: 'POSCO Holdings', code: '005490', currentPrice: 450000, changeRate: 1.2, marketCap: '38ì¡°', per: 5.5, buyTarget: 430000, sellTarget: 470000, notification: true
            },
            {
                id: 9, name: 'LG Chem', code: '051910', currentPrice: 600000, changeRate: -1.0, marketCap: '42ì¡°', per: 15.2, buyTarget: 580000, sellTarget: 620000, notification: false
            },
            {
                id: 10, name: 'Samsung SDI', code: '006400', currentPrice: 550000, changeRate: 0.3, marketCap: '35ì¡°', per: 20.7, buyTarget: 530000, sellTarget: 570000, notification: true
            },
            {
                id: 11, name: 'Celltrion', code: '068270', currentPrice: 180000, changeRate: 2.1, marketCap: '25ì¡°', per: 40.1, buyTarget: 175000, sellTarget: 185000, notification: true
            },
            {
                id: 12, name: 'KB Financial Group', code: '105560', currentPrice: 60000, changeRate: 0.5, marketCap: '28ì¡°', per: 5.8, buyTarget: 58000, sellTarget: 62000, notification: true
            },
            {
                id: 13, name: 'Shinhan Financial Group', code: '055550', currentPrice: 45000, changeRate: 0.2, marketCap: '25ì¡°', per: 5.1, buyTarget: 44000, sellTarget: 46000, notification: false
            },
            {
                id: 14, name: 'Hyundai Mobis', code: '012330', currentPrice: 230000, changeRate: -0.7, marketCap: '20ì¡°', per: 8.9, buyTarget: 220000, sellTarget: 240000, notification: true
            },
            {
                id: 15, name: 'Kakao Bank', code: '323410', currentPrice: 25000, changeRate: 1.5, marketCap: '12ì¡°', per: 50.1, buyTarget: 24000, sellTarget: 26000, notification: false
            },
            {
                id: 16, name: 'Korea Electric Power', code: '015760', currentPrice: 20000, changeRate: 0.1, marketCap: '15ì¡°', per: -10.2, buyTarget: 19000, sellTarget: 21000, notification: true
            },
            {
                id: 17, name: 'KT&G', code: '033780', currentPrice: 90000, changeRate: -0.3, marketCap: '12ì¡°', per: 10.5, buyTarget: 88000, sellTarget: 92000, notification: true
            },
            {
                id: 18, name: 'Samsung C&T', code: '028260', currentPrice: 120000, changeRate: 0.8, marketCap: '20ì¡°', per: 9.3, buyTarget: 118000, sellTarget: 125000, notification: false
            },
            {
                id: 19, name: 'LG Electronics', code: '066570', currentPrice: 100000, changeRate: 0.6, marketCap: '16ì¡°', per: 11.8, buyTarget: 98000, sellTarget: 102000, notification: true
            },
            {
                id: 20, name: 'SK Telecom', code: '017670', currentPrice: 50000, changeRate: 0.2, marketCap: '14ì¡°', per: 9.5, buyTarget: 49000, sellTarget: 51000, notification: false
            },
            {
                id: 21, name: 'NCsoft', code: '036570', currentPrice: 300000, changeRate: -2.1, marketCap: '6ì¡°', per: 30.1, buyTarget: 290000, sellTarget: 310000, notification: true
            },
            {
                id: 22, name: 'Hyundai Glovis', code: '086280', currentPrice: 180000, changeRate: 0.4, marketCap: '6ì¡°', per: 7.9, buyTarget: 175000, sellTarget: 185000, notification: true
            },
            {
                id: 23, name: 'Hana Financial Group', code: '086790', currentPrice: 40000, changeRate: 0.3, marketCap: '13ì¡°', per: 4.8, buyTarget: 39000, sellTarget: 41000, notification: false
            },
            {
                id: 24, name: 'Samsung Fire & Marine Insurance', code: '000810', currentPrice: 200000, changeRate: 0.9, marketCap: '9ì¡°', per: 8.5, buyTarget: 195000, sellTarget: 205000, notification: true
            },
            {
                id: 25, name: 'LG Household & Health Care', code: '051900', currentPrice: 700000, changeRate: -1.5, marketCap: '10ì¡°', per: 25.1, buyTarget: 680000, sellTarget: 720000, notification: false
            },
            {
                id: 26, name: 'Amorepacific', code: '090430', currentPrice: 150000, changeRate: 1.0, marketCap: '8ì¡°', per: 32.7, buyTarget: 145000, sellTarget: 155000, notification: true
            },
            {
                id: 27, name: 'S-Oil', code: '010950', currentPrice: 90000, changeRate: 0.6, marketCap: '10ì¡°', per: 6.2, buyTarget: 88000, sellTarget: 92000, notification: true
            },
            {
                id: 28, name: 'KB Kookmin Bank', code: '060000', currentPrice: 50000, changeRate: 0.3, marketCap: '20ì¡°', per: 5.0, buyTarget: 49000, sellTarget: 51000, notification: true
            },
            {
                id: 29, name: 'HMM', code: '011200', currentPrice: 20000, changeRate: -0.2, marketCap: '10ì¡°', per: 4.5, buyTarget: 19500, sellTarget: 20500, notification: false
            },
            {
                id: 30, name: 'Krafton', code: '259960', currentPrice: 280000, changeRate: 2.5, marketCap: '13ì¡°', per: 45.3, buyTarget: 270000, sellTarget: 290000, notification: true
            },
            {
                id: 31, name: 'Netmarble', code: '251270', currentPrice: 80000, changeRate: -1.8, marketCap: '7ì¡°', per: -15.1, buyTarget: 78000, sellTarget: 82000, notification: false
            },
            {
                id: 32, name: 'Pearl Abyss', code: '263750', currentPrice: 50000, changeRate: 3.0, marketCap: '3ì¡°', per: -20.5, buyTarget: 48000, sellTarget: 52000, notification: true
            },
            {
                id: 33, name: 'Doosan Heavy Industries & Construction', code: '034020', currentPrice: 15000, changeRate: 0.5, marketCap: '5ì¡°', per: -5.3, buyTarget: 14500, sellTarget: 15500, notification: false
            },
            {
                id: 34, name: 'Hanwha Solutions', code: '009830', currentPrice: 40000, changeRate: 1.1, marketCap: '7ì¡°', per: 10.1, buyTarget: 38000, sellTarget: 42000, notification: true
            },
            {
                id: 35, name: 'SK Innovation', code: '096770', currentPrice: 150000, changeRate: -0.9, marketCap: '14ì¡°', per: 7.8, buyTarget: 145000, sellTarget: 155000, notification: false
            },
            {
                id: 36, name: 'LG Uplus', code: '032640', currentPrice: 10000, changeRate: 0.4, marketCap: '4ì¡°', per: 8.1, buyTarget: 9800, sellTarget: 10200, notification: true
            },
            {
                id: 37, name: 'Kakao Games', code: '293490', currentPrice: 40000, changeRate: 2.0, marketCap: '3ì¡°', per: 22.5, buyTarget: 38000, sellTarget: 42000, notification: true
            },
            {
                id: 38, name: 'E-Mart', code: '139480', currentPrice: 100000, changeRate: -0.5, marketCap: '3ì¡°', per: 15.0, buyTarget: 98000, sellTarget: 102000, notification: false
            },
            {
                id: 39, name: 'KT', code: '030200', currentPrice: 30000, changeRate: 0.1, marketCap: '7ì¡°', per: 6.5, buyTarget: 29000, sellTarget: 31000, notification: true
            },
            {
                id: 40, name: 'Samsung Electro-Mechanics', code: '009150', currentPrice: 180000, changeRate: 1.3, marketCap: '13ì¡°', per: 14.2, buyTarget: 175000, sellTarget: 185000, notification: true
            },
            {
                id: 41, name: 'Lotte Chemical', code: '011170', currentPrice: 150000, changeRate: -0.7, marketCap: '5ì¡°', per: -8.9, buyTarget: 145000, sellTarget: 155000, notification: false
            },
            {
                id: 42, name: 'LG Display', code: '034220', currentPrice: 15000, changeRate: 0.8, marketCap: '6ì¡°', per: -3.5, buyTarget: 14500, sellTarget: 15500, notification: true
            },
            {
                id: 43, name: 'CJ CheilJedang', code: '097950', currentPrice: 350000, changeRate: 0.6, marketCap: '5ì¡°', per: 9.1, buyTarget: 340000, sellTarget: 360000, notification: true
            },
            {
                id: 44, name: 'AhnLab', code: '053800', currentPrice: 70000, changeRate: 2.8, marketCap: '1ì¡°', per: 30.0, buyTarget: 68000, sellTarget: 72000, notification: true
            },
            {
                id: 45, name: 'HLB', code: '028300', currentPrice: 50000, changeRate: -3.0, marketCap: '3ì¡°', per: -50.1, buyTarget: 48000, sellTarget: 52000, notification: false
            },
            {
                id: 46, name: 'Hanjin KAL', code: '180640', currentPrice: 60000, changeRate: 0.9, marketCap: '3ì¡°', per: 12.0, buyTarget: 58000, sellTarget: 62000, notification: true
            },
            {
                id: 47, name: 'Korean Air', code: '003490', currentPrice: 30000, changeRate: 0.7, marketCap: '3ì¡°', per: 5.5, buyTarget: 29000, sellTarget: 31000, notification: true
            },
            {
                id: 48, name: 'Samsung Heavy Industries', code: '010140', currentPrice: 5000, changeRate: 1.0, marketCap: '3ì¡°', per: -2.1, buyTarget: 4800, sellTarget: 5200, notification: false
            },
            {
                id: 49, name: 'Daewoo Shipbuilding & Marine Engineering', code: '042660', currentPrice: 20000, changeRate: 1.5, marketCap: '2ì¡°', per: -1.5, buyTarget: 19000, sellTarget: 21000, notification: true
            },
            {
                id: 50, name: 'Hyundai Heavy Industries', code: '329180', currentPrice: 100000, changeRate: 0.3, marketCap: '8ì¡°', per: 7.0, buyTarget: 98000, sellTarget: 102000, notification: true, quantity: 2 /* ë°ëª¨ìš© ìˆ˜ëŸ‰ ì¶”ê°€ */
            }
        ];

        let editingStockId = null;

        // ìš´ì˜ìê¸ˆ ê´€ë ¨ ë³€ìˆ˜ (1,000ì› ë‹¨ìœ„)
        let totalCapital = 10000; // ì´ ìš´ì˜ìê¸ˆ
        let cash = 5000;         // í˜„ê¸ˆ
        let startDate = '2023-01-01'; // ì‹œì‘ì¼
        let endDate = new Date().toISOString().slice(0, 10); // ì¢…ë£Œì¼ (ì˜¤ëŠ˜ ë‚ ì§œ)

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Fade in animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Header background on scroll
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.98)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            }
        });

        // ì¢…ëª© ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
        function openAddStockModal() {
            editingStockId = null;
            document.getElementById('modalTitle').textContent = 'ì¢…ëª© ì¶”ê°€';
            document.getElementById('stockForm').reset();
            document.getElementById('stockModal').style.display = 'block';
        }

        // ì¢…ëª© ìˆ˜ì • ëª¨ë‹¬ ì—´ê¸°
        function editStock(id) {
            const stock = stockData.find(s => s.id === id);
            if (stock) {
                editingStockId = id;
                document.getElementById('modalTitle').textContent = 'ì¢…ëª© ìˆ˜ì •';
                document.getElementById('stockName').value = stock.name;
                document.getElementById('stockCode').value = stock.code;
                document.getElementById('currentPrice').value = stock.currentPrice;
                document.getElementById('buyTarget').value = stock.buyTarget;
                document.getElementById('sellTarget').value = stock.sellTarget;
                document.getElementById('notificationEnabled').value = stock.notification;
                document.getElementById('quantity').value = stock.quantity;
                document.getElementById('stockModal').style.display = 'block';
            }
        }

        // ì¢…ëª© ì‚­ì œ
        function deleteStock(id) {
            if (confirm('ì •ë§ë¡œ ì´ ì¢…ëª©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                stockData = stockData.filter(s => s.id !== id);
                updateStockTable();
                updateDashboard(); // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
            }
        }

        // ì¢…ëª© ëª¨ë‹¬ ë‹«ê¸°
        function closeStockModal() {
            document.getElementById('stockModal').style.display = 'none';
        }

        // ì—…ë¡œë“œ ëª¨ë‹¬ ì—´ê¸°
        function openUploadModal() {
            document.getElementById('uploadModal').style.display = 'block';
        }

        // ì—…ë¡œë“œ ëª¨ë‹¬ ë‹«ê¸°
        function closeUploadModal() {
            document.getElementById('uploadModal').style.display = 'none';
        }

        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        function processUpload() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ë¡œ íŒŒì¼ì„ ì „ì†¡í•˜ê³  íŒŒì‹±
            alert('íŒŒì¼ ì—…ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. (ë°ëª¨ìš©)');
            closeUploadModal();
        }

        // ë°ì´í„° ìƒˆë¡œê³ ì¹¨
        function refreshData() {
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ì—ì„œ ìµœì‹  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
            alert('ë°ì´í„°ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤.');
            updateStockTable();
            updateDashboard(); // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
        }

        // ì¢…ëª© í…Œì´ë¸” ì—…ë°ì´íŠ¸
        function updateStockTable() {
            const tbody = document.getElementById('stockTableBody');
            tbody.innerHTML = '';

            stockData.forEach(stock => {
                const row = document.createElement('tr');
                const changeClass = stock.changeRate >= 0 ? 'positive' : 'negative';
                const notificationIcon = stock.notification ? 
                    '<span style="color: #00ff00;">âœ“</span>' : 
                    '<span style="color: #ff4444;">âœ—</span>';

                // ì‹œê°€ì´ì•¡ í¬ë§· ë³€ê²½
                let formattedMarketCap = '';
                if (typeof stock.marketCap === 'string') {
                    const value = parseFloat(stock.marketCap.replace('ì¡°', '').replace('ì–µ', '')) || 0;
                    if (stock.marketCap.includes('ì¡°')) {
                        formattedMarketCap = `${value.toFixed(1)}`; // ì†Œìˆ˜ì  ì²«ì§¸ ìë¦¬
                    } else if (stock.marketCap.includes('ì–µ')) {
                        formattedMarketCap = `${(value / 10000).toFixed(1)}`; // ì–µ ë‹¨ìœ„ë¥¼ ì¡° ë‹¨ìœ„ë¡œ ë³€í™˜ í›„ ì†Œìˆ˜ì  ì²«ì§¸ ìë¦¬
                    } else {
                        formattedMarketCap = `${(value / 1000000000000).toFixed(1)}`; // ìˆ«ìë¥¼ ì¡° ë‹¨ìœ„ë¡œ ë³€í™˜ í›„ ì†Œìˆ˜ì  ì²«ì§¸ ìë¦¬
                    }
                } else if (typeof stock.marketCap === 'number') {
                    formattedMarketCap = `${(stock.marketCap / 1000000000000).toFixed(1)}`;
                }
                
                row.innerHTML = `
                    <td>${stock.name}</td>
                    <td>${stock.currentPrice.toLocaleString()}</td>
                    <td class="${changeClass}">${stock.changeRate >= 0 ? '+' : ''}${stock.changeRate}%</td>
                    <td>${formattedMarketCap}</td>
                    <td>${stock.per}</td>
                    <td>${stock.buyTarget.toLocaleString()}</td>
                    <td>${stock.sellTarget.toLocaleString()}</td>
                    <td>${notificationIcon}</td>
                    <td>
                        <button class="btn btn-secondary" onclick="editStock(${stock.id})">ìˆ˜ì •</button>
                        <button class="btn btn-danger" onclick="deleteStock(${stock.id})">ì‚­ì œ</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // ì¢…ëª© í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('stockForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('stockName').value,
                code: document.getElementById('stockCode').value,
                currentPrice: parseInt(document.getElementById('currentPrice').value),
                buyTarget: parseInt(document.getElementById('buyTarget').value),
                sellTarget: parseInt(document.getElementById('sellTarget').value),
                notification: document.getElementById('notificationEnabled').value === 'true',
                quantity: parseInt(document.getElementById('quantity').value)
            };

            if (editingStockId) {
                // ìˆ˜ì •
                const index = stockData.findIndex(s => s.id === editingStockId);
                if (index !== -1) {
                    stockData[index] = { ...stockData[index], ...formData };
                }
            } else {
                // ì¶”ê°€
                const newId = Math.max(...stockData.map(s => s.id)) + 1;
                stockData.push({
                    id: newId,
                    ...formData,
                    changeRate: (Math.random() - 0.5) * 10, // ë°ëª¨ìš© ëœë¤ ë“±ë½ìœ¨
                    marketCap: (Math.random() * 50 + 1).toFixed(2) + 'ì¡°', // ë°ëª¨ìš©
                    per: (Math.random() * 20 + 5).toFixed(1) // ë°ëª¨ìš©
                });
            }

            updateStockTable();
            closeStockModal();
        });

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.addEventListener('click', function(event) {
            const stockModal = document.getElementById('stockModal');
            const uploadModal = document.getElementById('uploadModal');
            
            if (event.target === stockModal) {
                closeStockModal();
            }
            if (event.target === uploadModal) {
                closeUploadModal();
            }
        });

        // íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = '#00ffff';
            uploadArea.style.background = 'rgba(0, 255, 255, 0.1)';
        });

        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(0, 255, 255, 0.5)';
            uploadArea.style.background = 'transparent';
        });

        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'rgba(0, 255, 255, 0.5)';
            uploadArea.style.background = 'transparent';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                document.getElementById('fileInput').files = files;
            }
        });

        // API í‚¤ í‘œì‹œ/ìˆ¨ê¸°ê¸° í† ê¸€
        function toggleApiKeyVisibility(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = 'ğŸ™ˆ';
            } else {
                input.type = 'password';
                button.textContent = 'ğŸ‘ï¸';
            }
        }

        // í‚¤ì›€ì¦ê¶Œ API ì—°ê²° í…ŒìŠ¤íŠ¸
        function testKiwoomConnection() {
            const appKey = document.getElementById('kiwoomAppKey').value;
            const appSecret = document.getElementById('kiwoomAppSecret').value;
            const accessToken = document.getElementById('kiwoomAccessToken').value;
            
            if (!appKey || !appSecret || !accessToken) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œë®¬ë ˆì´ì…˜
            const statusIndicator = document.getElementById('kiwoomStatus');
            const statusText = document.getElementById('kiwoomStatusText');
            
            statusIndicator.style.background = '#ffaa00';
            statusText.textContent = 'ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...';
            
            setTimeout(() => {
                // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” í‚¤ì›€ì¦ê¶Œ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì—°ê²° í…ŒìŠ¤íŠ¸
                const isConnected = Math.random() > 0.3; // 70% ì„±ê³µë¥ ë¡œ ì‹œë®¬ë ˆì´ì…˜
                
                if (isConnected) {
                    statusIndicator.classList.add('connected');
                    statusIndicator.style.background = '#00ff00';
                    statusText.textContent = 'ì—°ê²° ì„±ê³µ';
                    alert('í‚¤ì›€ì¦ê¶Œ API ì—°ê²°ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤!');
                } else {
                    statusIndicator.classList.remove('connected');
                    statusIndicator.style.background = '#ff4444';
                    statusText.textContent = 'ì—°ê²° ì‹¤íŒ¨';
                    alert('í‚¤ì›€ì¦ê¶Œ API ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
                }
            }, 2000);
        }

        // ê¸°íƒ€ API ì—°ê²° í…ŒìŠ¤íŠ¸
        function testOtherConnections() {
            const kisApiKey = document.getElementById('kisApiKey').value;
            const kakaoApiKey = document.getElementById('kakaoApiKey').value;
            
            if (!kisApiKey && !kakaoApiKey) {
                alert('ìµœì†Œ í•˜ë‚˜ì˜ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const statusIndicator = document.getElementById('otherStatus');
            const statusText = document.getElementById('otherStatusText');
            
            statusIndicator.style.background = '#ffaa00';
            statusText.textContent = 'ì—°ê²° í…ŒìŠ¤íŠ¸ ì¤‘...';
            
            setTimeout(() => {
                const isConnected = Math.random() > 0.2; // 80% ì„±ê³µë¥ ë¡œ ì‹œë®¬ë ˆì´ì…˜
                
                if (isConnected) {
                    statusIndicator.classList.add('connected');
                    statusIndicator.style.background = '#00ff00';
                    statusText.textContent = 'ì—°ê²° ì„±ê³µ';
                    alert('API ì—°ê²°ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤!');
                } else {
                    statusIndicator.classList.remove('connected');
                    statusIndicator.style.background = '#ff4444';
                    statusText.textContent = 'ì—°ê²° ì‹¤íŒ¨';
                    alert('API ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. API í‚¤ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.');
                }
            }, 2000);
        }

        // í‚¤ì›€ì¦ê¶Œ ì„¤ì • ì €ì¥
        function saveKiwoomSettings() {
            const appKey = document.getElementById('kiwoomAppKey').value;
            const appSecret = document.getElementById('kiwoomAppSecret').value;
            const accessToken = document.getElementById('kiwoomAccessToken').value;
            
            if (!appKey || !appSecret || !accessToken) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ì„œë²„ì— API í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ì €ì¥
            const settings = {
                kiwoom: {
                    appKey: appKey,
                    appSecret: appSecret,
                    accessToken: accessToken,
                    savedAt: new Date().toISOString()
                }
            };
            
            localStorage.setItem('apiSettings', JSON.stringify(settings));
            alert('í‚¤ì›€ì¦ê¶Œ API ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ê¸°íƒ€ ì„¤ì • ì €ì¥
        function saveOtherSettings() {
            const kisApiKey = document.getElementById('kisApiKey').value;
            const kakaoApiKey = document.getElementById('kakaoApiKey').value;
            
            if (!kisApiKey && !kakaoApiKey) {
                alert('ìµœì†Œ í•˜ë‚˜ì˜ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const settings = JSON.parse(localStorage.getItem('apiSettings') || '{}');
            settings.other = {
                kisApiKey: kisApiKey,
                kakaoApiKey: kakaoApiKey,
                savedAt: new Date().toISOString()
            };
            
            localStorage.setItem('apiSettings', JSON.stringify(settings));
            alert('API ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì €ì¥ëœ ì„¤ì • ë¡œë“œ
        function loadSavedSettings() {
            const settings = JSON.parse(localStorage.getItem('apiSettings') || '{}');
            
            if (settings.kiwoom) {
                document.getElementById('kiwoomAppKey').value = settings.kiwoom.appKey || '';
                document.getElementById('kiwoomAppSecret').value = settings.kiwoom.appSecret || '';
                document.getElementById('kiwoomAccessToken').value = settings.kiwoom.accessToken || '';
            }
            
            if (settings.other) {
                document.getElementById('kisApiKey').value = settings.other.kisApiKey || '';
                document.getElementById('kakaoApiKey').value = settings.other.kakaoApiKey || '';
            }
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateStockTable();
            loadSavedSettings();
            updateDashboard(); // ì´ˆê¸° ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸

            // ìš´ì˜ìê¸ˆ ê´€ë ¨ ì…ë ¥ í•„ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('totalCapitalInput').addEventListener('change', function() {
                totalCapital = parseInt(this.value) || 0;
                updateDashboard();
            });
            document.getElementById('cashInput').addEventListener('change', function() {
                cash = parseInt(this.value) || 0;
                updateDashboard();
            });
            document.getElementById('startDateInput').addEventListener('change', function() {
                startDate = this.value;
                updateDashboard();
            });
            document.getElementById('endDateInput').addEventListener('change', function() {
                endDate = this.value;
                updateDashboard();
            });

            // ì¡°íšŒ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('inquiryButton').addEventListener('click', function() {
                updateDashboard();
            });
        });

        // í…Œì´ë¸” ì •ë ¬ ê¸°ëŠ¥
        function sortTable(key) {
            const headers = document.querySelectorAll('.stock-table th[data-sort-key]');
            let currentOrder = 'asc';

            headers.forEach(header => {
                if (header.dataset.sortKey === key) {
                    currentOrder = header.dataset.sortOrder === 'asc' ? 'desc' : 'asc';
                    header.dataset.sortOrder = currentOrder;
                } else {
                    header.dataset.sortOrder = 'none'; // ë‹¤ë¥¸ ì»¬ëŸ¼ì€ ì´ˆê¸°í™”
                }
                // ëª¨ë“  sort-arrow ì´ˆê¸°í™”
                const arrow = header.querySelector('.sort-arrow');
                if (arrow) {
                    arrow.classList.remove('asc', 'desc');
                }
            });

            // í˜„ì¬ ì •ë ¬ ì»¬ëŸ¼ì˜ sort-arrow ì—…ë°ì´íŠ¸
            const activeHeader = document.querySelector(`.stock-table th[data-sort-key="${key}"]`);
            if (activeHeader) {
                const activeArrow = activeHeader.querySelector('.sort-arrow');
                if (activeArrow) {
                    activeArrow.classList.add(currentOrder);
                }
            }

            stockData.sort((a, b) => {
                let valA = a[key];
                let valB = b[key];

                // ìˆ«ìí˜• ë°ì´í„° ì²˜ë¦¬ (marketCap, per, currentPrice, changeRate, buyTarget, sellTarget)
                if (['currentPrice', 'changeRate', 'per', 'buyTarget', 'sellTarget'].includes(key)) {
                    valA = parseFloat(String(valA).replace(/[^0-9.-]+/g, ''));
                    valB = parseFloat(String(valB).replace(/[^0-9.-]+/g, ''));
                } else if (key === 'marketCap') {
                    const parseMarketCap = (capStr) => {
                        if (typeof capStr !== 'string') return parseFloat(capStr) || 0;
                        let value = parseFloat(capStr.replace('ì¡°', '').replace('ì–µ', '')) || 0;
                        if (capStr.includes('ì¡°')) return value;
                        if (capStr.includes('ì–µ')) return value / 10000;
                        return value / 1000000000000; // ìˆ«ìë¥¼ ì¡° ë‹¨ìœ„ë¡œ ë³€í™˜
                    };
                    valA = parseMarketCap(valA);
                    valB = parseMarketCap(valB);
                }

                if (valA < valB) {
                    return currentOrder === 'asc' ? -1 : 1;
                } else if (valA > valB) {
                    return currentOrder === 'asc' ? 1 : -1;
                } else {
                    return 0;
                }
            });

            updateStockTable();
        }

        // ê° í—¤ë”ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.querySelectorAll('.stock-table th[data-sort-key]').forEach(header => {
            header.addEventListener('click', () => sortTable(header.dataset.sortKey));
        });

        // ì´ˆê¸° ì •ë ¬ (ì¢…ëª©ëª… ì˜¤ë¦„ì°¨ìˆœ)
        sortTable('name');

        // ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateDashboard() {
            const totalValuationInput = document.getElementById('totalValuationInput');
            const cashInput = document.getElementById('cashInput');
            const stockValuationSumInput = document.getElementById('stockValuationSumInput');
            const returnRateInput = document.getElementById('returnRateInput');
            const startDateInput = document.getElementById('startDateInput');
            const endDateInput = document.getElementById('endDateInput');

            // í˜„ê¸ˆ ì…ë ¥ í•„ë“œì— í˜„ì¬ í˜„ê¸ˆ ê°’ ì„¤ì •
            cashInput.value = cash.toLocaleString();
            document.getElementById('totalCapitalInput').value = totalCapital.toLocaleString();

            // ì£¼ì‹ í‰ê°€ í•©ê³„ ê³„ì‚°
            let stockValuationSum = 0;
            stockData.forEach(stock => {
                stockValuationSum += (stock.currentPrice * stock.quantity) / 1000; // 1,000ì› ë‹¨ìœ„
            });
            stockValuationSumInput.value = stockValuationSum.toLocaleString();

            // ì´ í‰ê°€ì•¡ ê³„ì‚° (í˜„ê¸ˆ + ì£¼ì‹í‰ê°€í•©ê³„)
            const totalValuation = cash + stockValuationSum;
            totalValuationInput.value = totalValuation.toLocaleString();

            // ìˆ˜ìµë¥  ê³„ì‚° (ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ ì˜ˆì‹œ, ì‹¤ì œ ìˆ˜ìµë¥  ë¡œì§ì€ ë” ë³µì¡í•  ìˆ˜ ìˆìŒ)
            // (í˜„ì¬ ì´ í‰ê°€ì•¡ - ì´ˆê¸° ì´ ìš´ì˜ìê¸ˆ) / ì´ˆê¸° ì´ ìš´ì˜ìê¸ˆ * 100
            const initialTotalCapital = 10000; // ì´ˆê¸° ì´ ìš´ì˜ìê¸ˆ (ì˜ˆì‹œ)
            const returnRate = ((totalValuation - initialTotalCapital) / initialTotalCapital * 100).toFixed(2);
            returnRateInput.value = `${returnRate}%`;

            // ë‚ ì§œ ì…ë ¥ í•„ë“œ ì„¤ì •
            startDateInput.value = startDate;
            endDateInput.value = endDate;
        }
    </script>
</body>
</html>
